{{- /*
  Usage: `table [args]`

  `args` are optional and can be one of the following:
    * class: any class(es) to be added to the `table` - default ""
    * simplified: show a simplified version in the examples - default `true`
    * caption: content of the `caption` - default ""
    * caption_hide: if the caption should be shown or not - default `true`
*/ -}}

{{- $class := .Get "class" -}}
{{- $simplified := .Get "simplified" | default true -}}
{{- $caption_hide := .Get "caption_hide" | default true -}}
{{- $caption := .Get "caption" | default "" -}}

{{- $table_attributes := "" -}}
{{- $table_content := "  ...\n" -}}
{{- $table_caption_attributes := "" -}}
{{- $table_caption := "..." -}}

{{- with $class -}}
  {{- $table_attributes = printf ` class="%s"` . -}}
{{- end -}}

{{- if eq $simplified "false" -}}
  {{- $table_content = partialCached "table-content" . -}}
{{- end -}}

{{- with $caption -}}
  {{- $table_caption = printf `%s` . -}}
{{- end -}}

{{- if eq $caption_hide true -}}
  {{- $table_caption_attributes = printf ` class="visually-hidden"` -}}
{{- end -}}

{{- $table := printf "\n<table%s>\n  <caption%s>%s</caption>\n%s</table>\n" $table_attributes $table_caption_attributes $table_caption $table_content -}}

<div class="bd-example">
  <table{{ with $class }} class="{{ . }}"{{ end }}>
    <caption{{ if eq $caption_hide true }} class="visually-hidden"{{ end }}>{{ with $table_caption }}{{.}}{{ end }}</caption>
    {{ partialCached "table-content" . }}
  </table>
</div>

{{- highlight $table "html" "" -}}
