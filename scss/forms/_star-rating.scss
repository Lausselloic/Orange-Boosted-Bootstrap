//
// Star rating
//

.star-rating {
  --#{$prefix}star-rating-checked-icon: #{escape-svg(url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 25 25'><path fill='#000' d='m12.5 2.9 2.379 7.35 7.721-.007-6.25 4.536 2.392 7.346-6.242-4.547-6.242 4.547 2.392-7.346-6.25-4.536 7.721.007Z'/></svg>"))};
  --#{$prefix}star-rating-unchecked-icon: #{escape-svg(url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 25 25'><path fill='transparent' fill-rule='evenodd' stroke='#000' d='m12.5 4.523 2.016 6.227 6.542-.005-5.296 3.843 2.027 6.224L12.5 16.96l-5.289 3.852 2.027-6.224-5.296-3.843 6.542.005L12.5 4.523Z'/></svg>"))};

  &.disabled,
  &:disabled {
    pointer-events: none;
  }

  > label {
    display: block;
    float: left;
    width: 1em;
    height: 1em;
    font-size: $form-star-size;
    cursor: pointer;
    mask-image: var(--#{$prefix}star-rating-checked-icon);
    background-color: var(--bs-link-hover-color);

    &:not(:first-of-type){
      margin-left: $form-star-margin-between;
    }
  }

  > input:checked ~ label {
    mask-image: var(--#{$prefix}star-rating-unchecked-icon);
    background-color: var(--bs-code-color);
  }

  > input:checked + label {
    mask-image: var(--#{$prefix}star-rating-checked-icon);
    background-color: var(--bs-link-hover-color);
  }

  > [data-focus-visible-added]:focus + label {
    @include focus-visible();
    outline-offset: -1px;
    box-shadow: inset 0 0 0 add(1px, $focus-visible-inner-width) var(--#{$prefix}focus-visible-inner-color);
  }

  &:hover input + label {
    mask-image: var(--#{$prefix}star-rating-checked-icon);
    background-color: var(--bs-emphasis-color);
  }

  > input:hover ~ label {
    mask-image: var(--#{$prefix}star-rating-unchecked-icon);
    background-color: var(--bs-code-color);
  }

  > input:hover + label {
    mask-image: var(--#{$prefix}star-rating-checked-icon);
    background-color: var(--bs-emphasis-color);
  }
}

.star-rating-dark {
  > label {
    @include form-star-rating($brand-orange);
  }

  > input:checked ~ label {
    @include form-star-rating($gray-700);
  }

  > input:checked + label {
    @include form-star-rating($brand-orange);
  }

  &:hover input + label {
    @include form-star-rating($white);
  }

  > input:hover ~ label {
    @include form-star-rating($gray-700);
  }

  > input:hover + label {
    @include form-star-rating($white);
  }
}

.star-rating-sm > label {
  font-size: $form-star-size-sm;
}
