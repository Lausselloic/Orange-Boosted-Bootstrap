{"version":3,"file":"tab.js","sources":["../src/tab.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.6.2): tab.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * Constants\n */\n\nconst NAME = 'tab'\nconst VERSION = '4.6.2'\nconst DATA_KEY = 'bs.tab'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\n\n// Boosted mod\nconst ARROW_LEFT_KEYCODE = 37 // KeyboardEvent.which value for left arrow key\nconst ARROW_UP_KEYCODE = 38 // KeyboardEvent.which value for up arrow key\nconst ARROW_RIGHT_KEYCODE = 39 // KeyboardEvent.which value for right arrow key\nconst ARROW_DOWN_KEYCODE = 40 // KeyboardEvent.which value for down arrow key\nconst REGEXP_KEYDOWN = new RegExp(`${ARROW_LEFT_KEYCODE}|${ARROW_UP_KEYCODE}|${ARROW_RIGHT_KEYCODE}|${ARROW_DOWN_KEYCODE}`)\n// end mod\n\nconst CLASS_NAME_DROPDOWN_MENU = 'dropdown-menu'\nconst CLASS_NAME_ACTIVE = 'active'\nconst CLASS_NAME_DISABLED = 'disabled'\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYDOWN_DATA_API = `keydown${EVENT_KEY}${DATA_API_KEY}` // Boosted mod\n\nconst SELECTOR_DROPDOWN = '.dropdown'\nconst SELECTOR_NAV_LIST_GROUP = '.nav, .list-group'\nconst SELECTOR_ACTIVE = '.active'\nconst SELECTOR_ACTIVE_UL = '> li > .active'\nconst SELECTOR_DATA_TOGGLE = '[data-toggle=\"tab\"], [data-toggle=\"pill\"], [data-toggle=\"list\"]'\nconst SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle'\nconst SELECTOR_DROPDOWN_ACTIVE_CHILD = '> .dropdown-menu .active'\n\n/**\n * Class definition\n */\n\nclass Tab {\n  constructor(element) {\n    this._element = element\n    this._addAccessibility() // Boosted mod\n  }\n\n  // Getters\n  static get VERSION() {\n    return VERSION\n  }\n\n  // Public\n  show() {\n    if (this._element.parentNode &&\n        this._element.parentNode.nodeType === Node.ELEMENT_NODE &&\n        $(this._element).hasClass(CLASS_NAME_ACTIVE) ||\n        $(this._element).hasClass(CLASS_NAME_DISABLED) ||\n        this._element.hasAttribute('disabled')) {\n      return\n    }\n\n    let target\n    let previous\n    const listElement = $(this._element).closest(SELECTOR_NAV_LIST_GROUP)[0]\n    const selector = Util.getSelectorFromElement(this._element)\n\n    if (listElement) {\n      const itemSelector = listElement.nodeName === 'UL' || listElement.nodeName === 'OL' ? SELECTOR_ACTIVE_UL : SELECTOR_ACTIVE\n      previous = $.makeArray($(listElement).find(itemSelector))\n      previous = previous[previous.length - 1]\n    }\n\n    const hideEvent = $.Event(EVENT_HIDE, {\n      relatedTarget: this._element\n    })\n\n    const showEvent = $.Event(EVENT_SHOW, {\n      relatedTarget: previous\n    })\n\n    if (previous) {\n      $(previous).trigger(hideEvent)\n    }\n\n    $(this._element).trigger(showEvent)\n\n    if (showEvent.isDefaultPrevented() ||\n        hideEvent.isDefaultPrevented()) {\n      return\n    }\n\n    if (selector) {\n      target = document.querySelector(selector)\n    }\n\n    this._activate(\n      this._element,\n      listElement\n    )\n\n    const complete = () => {\n      const hiddenEvent = $.Event(EVENT_HIDDEN, {\n        relatedTarget: this._element\n      })\n\n      const shownEvent = $.Event(EVENT_SHOWN, {\n        relatedTarget: previous\n      })\n\n      $(previous).trigger(hiddenEvent)\n      $(this._element).trigger(shownEvent)\n    }\n\n    if (target) {\n      this._activate(target, target.parentNode, complete)\n    } else {\n      complete()\n    }\n  }\n\n  dispose() {\n    $.removeData(this._element, DATA_KEY)\n    this._element = null\n  }\n\n  // Private\n  _activate(element, container, callback) {\n    const activeElements = container && (container.nodeName === 'UL' || container.nodeName === 'OL') ?\n      $(container).find(SELECTOR_ACTIVE_UL) :\n      $(container).children(SELECTOR_ACTIVE)\n\n    const active = activeElements[0]\n    const isTransitioning = callback && (active && $(active).hasClass(CLASS_NAME_FADE))\n    const complete = () => this._transitionComplete(\n      element,\n      active,\n      callback\n    )\n\n    // Boosted mod\n    $(container).find('.nav-link:not(.dropdown-toggle)').attr({\n      tabIndex: '-1',\n      'aria-selected': false\n    })\n    $(container).find('.tab-pane').attr({\n      'aria-hidden': true,\n      tabIndex: '-1'\n    })\n    // end mod\n\n    if (active && isTransitioning) {\n      const transitionDuration = Util.getTransitionDurationFromElement(active)\n\n      $(active)\n        .removeClass(CLASS_NAME_SHOW)\n        .one(Util.TRANSITION_END, complete)\n        .emulateTransitionEnd(transitionDuration)\n    } else {\n      complete()\n    }\n  }\n\n  _transitionComplete(element, active, callback) {\n    if (active) {\n      $(active).removeClass(CLASS_NAME_ACTIVE)\n\n      const dropdownChild = $(active.parentNode).find(\n        SELECTOR_DROPDOWN_ACTIVE_CHILD\n      )[0]\n\n      if (dropdownChild) {\n        $(dropdownChild).removeClass(CLASS_NAME_ACTIVE)\n      }\n\n      if (active.getAttribute('role') === 'tab') {\n        active.setAttribute('aria-selected', false)\n      }\n    }\n\n    $(element).addClass(CLASS_NAME_ACTIVE)\n    if (element.getAttribute('role') === 'tab') {\n      element.setAttribute('aria-selected', true)\n    }\n\n    // Boosted mod\n    $(element).filter('.nav-link:not(.dropdown-toggle).active').attr({\n      tabIndex: '0',\n      'aria-selected': true\n    })\n    $(element).filter('.tab-pane.active').attr({\n      'aria-hidden': false,\n      tabIndex: '0'\n    })\n    // end mod\n\n    Util.reflow(element)\n\n    if (element.classList.contains(CLASS_NAME_FADE)) {\n      element.classList.add(CLASS_NAME_SHOW)\n    }\n\n    if (element.parentNode && $(element.parentNode).hasClass(CLASS_NAME_DROPDOWN_MENU)) {\n      let parent = element.parentNode\n      if (parent && parent.nodeName === 'LI') {\n        parent = parent.parentNode\n      }\n\n      if (parent && $(parent).hasClass(CLASS_NAME_DROPDOWN_MENU)) {\n        const dropdownElement = $(element).closest(SELECTOR_DROPDOWN)[0]\n\n        if (dropdownElement) {\n          const dropdownToggleList = [].slice.call(dropdownElement.querySelectorAll(SELECTOR_DROPDOWN_TOGGLE))\n\n          $(dropdownToggleList).addClass(CLASS_NAME_ACTIVE)\n        }\n\n        element.setAttribute('aria-expanded', true)\n      }\n    }\n\n    if (callback) {\n      callback()\n    }\n  }\n\n  // Boosted mod\n  _addAccessibility() {\n    const $tab = $(this._element)\n    const $tabpanel = $($tab.attr('href'))\n    const $tablist = $tab.closest(SELECTOR_NAV_LIST_GROUP)\n    const tabId = $tab.attr('id') || Util.getUID(NAME)\n\n    $tab.attr('id', tabId)\n\n    if ($tabpanel) {\n      $tab.attr('role', 'tab')\n      $tablist.attr('role', 'tablist')\n    }\n\n    if ($tab.hasClass(CLASS_NAME_ACTIVE)) {\n      $tab.attr({\n        tabIndex: '0',\n        'aria-selected': 'true'\n      })\n\n      if ($tab.attr('href')) {\n        $tab.attr('aria-controls', $tab.attr('href').slice(1))\n      }\n\n      $tabpanel.attr({\n        role: 'tabpanel',\n        tabIndex: '0',\n        'aria-hidden': 'false',\n        'aria-labelledby': tabId\n      })\n    } else {\n      $tab.attr({\n        tabIndex: '-1',\n        'aria-selected': 'false'\n      })\n\n      if ($tab.attr('href')) {\n        $tab.attr('aria-controls', $tab.attr('href').slice(1))\n      }\n\n      $tabpanel.attr({\n        role: 'tabpanel',\n        tabIndex: '-1',\n        'aria-hidden': 'true',\n        'aria-labelledby': tabId\n      })\n    }\n  }\n  // end mod\n\n  // Static\n  // Boosted mod\n  static nextTabIndex(items, index, step) {\n    const indexInit = index\n\n    do {\n      index += step\n\n      if (index < 0) {\n        index = items.length - 1\n      }\n\n      if (index === items.length) {\n        index = 0\n      }\n    } while ((items[index].classList.contains('disabled') || items[index].disabled) && index !== indexInit)\n\n    return index\n  }\n\n  static _dataApiKeydownHandler(e) {\n    const $this = $(this)\n    const Items = $this.closest('[role=tablist]').find('[role=tab]:visible')\n    const k = e.which || e.keyCode\n\n    let index = 0\n\n    index = Items.index(Items.filter(':focus'))\n\n    if (k === ARROW_UP_KEYCODE || k === ARROW_LEFT_KEYCODE) {\n      index = Tab.nextTabIndex(Items, index, -1)\n    }\n\n    if (k === ARROW_RIGHT_KEYCODE || k === ARROW_DOWN_KEYCODE) {\n      index = Tab.nextTabIndex(Items, index, 1)\n    }\n\n    const nextTab = Items.eq(index)\n\n    if (nextTab.attr('role') === 'tab') {\n      nextTab.tab('show').trigger('focus')\n    }\n\n    e.preventDefault()\n    e.stopPropagation()\n  }\n  // end mod\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      const $this = $(this)\n      let data = $this.data(DATA_KEY)\n\n      if (!data) {\n        data = new Tab(this)\n        $this.data(DATA_KEY, data)\n      }\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\n$(document)\n  .on(EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n    event.preventDefault()\n    Tab._jQueryInterface.call($(this), 'show')\n  })\n  // Boosted mod\n  .on(EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n    if (!REGEXP_KEYDOWN.test(event.which)) {\n      return\n    }\n\n    event.preventDefault()\n    Tab._dataApiKeydownHandler.call($(this), event)\n  })\n  .on('DOMContentLoaded', () => {\n    Tab._jQueryInterface.call($(SELECTOR_DATA_TOGGLE))\n  })\n  // end mod\n\n/**\n * jQuery\n */\n\n$.fn[NAME] = Tab._jQueryInterface\n$.fn[NAME].Constructor = Tab\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Tab._jQueryInterface\n}\n\nexport default Tab\n"],"names":["NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","$","fn","ARROW_LEFT_KEYCODE","ARROW_UP_KEYCODE","ARROW_RIGHT_KEYCODE","ARROW_DOWN_KEYCODE","REGEXP_KEYDOWN","RegExp","CLASS_NAME_DROPDOWN_MENU","CLASS_NAME_ACTIVE","CLASS_NAME_DISABLED","CLASS_NAME_FADE","CLASS_NAME_SHOW","EVENT_HIDE","EVENT_HIDDEN","EVENT_SHOW","EVENT_SHOWN","EVENT_CLICK_DATA_API","EVENT_KEYDOWN_DATA_API","SELECTOR_DROPDOWN","SELECTOR_NAV_LIST_GROUP","SELECTOR_ACTIVE","SELECTOR_ACTIVE_UL","SELECTOR_DATA_TOGGLE","SELECTOR_DROPDOWN_TOGGLE","SELECTOR_DROPDOWN_ACTIVE_CHILD","Tab","element","_element","_addAccessibility","show","parentNode","nodeType","Node","ELEMENT_NODE","hasClass","hasAttribute","target","previous","listElement","closest","selector","Util","getSelectorFromElement","itemSelector","nodeName","makeArray","find","length","hideEvent","Event","relatedTarget","showEvent","trigger","isDefaultPrevented","document","querySelector","_activate","complete","hiddenEvent","shownEvent","dispose","removeData","container","callback","activeElements","children","active","isTransitioning","_transitionComplete","attr","tabIndex","transitionDuration","getTransitionDurationFromElement","removeClass","one","TRANSITION_END","emulateTransitionEnd","dropdownChild","getAttribute","setAttribute","addClass","filter","reflow","classList","contains","add","parent","dropdownElement","dropdownToggleList","slice","call","querySelectorAll","$tab","$tabpanel","$tablist","tabId","getUID","role","nextTabIndex","items","index","step","indexInit","disabled","_dataApiKeydownHandler","e","$this","Items","k","which","keyCode","nextTab","eq","tab","preventDefault","stopPropagation","_jQueryInterface","config","each","data","TypeError","on","event","test","Constructor","noConflict"],"mappings":"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"}