{"version":3,"file":"navbar.js","sources":["../src/o-navbar.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Boosted (v4.5.0): o-navbar.js\n * Licensed under MIT (https://github.com/Orange-OpenSource/Orange-Boosted-Bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME               = 'navbar'\nconst VERSION            = '4.5.0'\nconst DATA_KEY           = 'bs.navbar'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\nconst BREAKPOINT = 768\n\nconst Default = {\n  sticky : false,\n  trigger : ''\n}\n\nconst DefaultType = {\n  sticky : 'boolean',\n  trigger : 'string'\n}\n\nconst SELECTOR_SUPRA_BAR      = '.navbar.supra'\nconst SELECTOR_MEGAMENU_PANEL = '.mega-menu.panel'\n\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Navbar {\n  constructor(element, config) {\n    this._element         = element\n    this._supraBar        = element.querySelector(SELECTOR_SUPRA_BAR)\n    this._config          = this._getConfig(config)\n    this._initialHeight = $(this._element).outerHeight()\n    this._initialSupraHeight = $(this._supraBar).outerHeight()\n\n    this._addAria()\n\n    if (this._config.sticky) {\n      $(this._element).addClass('fixed-top')\n      $(SELECTOR_MEGAMENU_PANEL).addClass('sticky')\n      $(document.body).css('padding-top', this._initialHeight)\n\n      $(window).on('scroll', () => {\n        const Scroll = $(window).scrollTop()\n        if (Scroll > 0) {\n          $(this._element).addClass('minimized')\n        } else {\n          $(this._element).removeClass('minimized')\n        }\n      })\n    }\n\n    if (this._config.hideSupra) {\n      $(window).on('scroll', () => {\n        if ($(window).innerWidth() < BREAKPOINT) {\n          return\n        }\n\n        const Scroll = $(window).scrollTop()\n\n        if (Scroll > 0) {\n          $(SELECTOR_SUPRA_BAR).hide()\n        } else {\n          $(SELECTOR_SUPRA_BAR).show()\n        }\n      })\n    }\n  }\n\n  // getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get Default() {\n    return Default\n  }\n\n  // private\n\n  _getConfig(config) {\n    config = $.extend({}, Default, config)\n    Util.typeCheckConfig(NAME, config, DefaultType)\n    return config\n  }\n\n  _addAria() {\n    $(this._element).find('.navbar .nav-link[data-toggle]').attr('aria-haspopup', true)\n  }\n\n  // static\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      let data = $(this).data(DATA_KEY)\n      const _config = {\n        ...Default,\n        ...$(this).data(),\n        ...typeof config === 'object' && config ? config : {}\n      }\n\n      if (!data) {\n        data = new Navbar(this, _config)\n        $(this).data(DATA_KEY, data)\n      }\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Navbar._jQueryInterface\n$.fn[NAME].Constructor = Navbar\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Navbar._jQueryInterface\n}\n\nexport default Navbar\n"],"names":["NAME","VERSION","DATA_KEY","JQUERY_NO_CONFLICT","$","fn","BREAKPOINT","Default","sticky","trigger","DefaultType","SELECTOR_SUPRA_BAR","SELECTOR_MEGAMENU_PANEL","Navbar","element","config","_element","_supraBar","querySelector","_config","_getConfig","_initialHeight","outerHeight","_initialSupraHeight","_addAria","addClass","document","body","css","window","on","Scroll","scrollTop","removeClass","hideSupra","innerWidth","hide","show","extend","Util","typeCheckConfig","find","attr","_jQueryInterface","each","data","TypeError","Constructor","noConflict"],"mappings":"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"}