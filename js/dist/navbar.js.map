{"version":3,"file":"navbar.js","sources":["../src/o-navbar.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Boosted (v4.6.2): o-navbar.js\n * Licensed under MIT (https://github.com/Orange-OpenSource/Orange-Boosted-Bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'navbar'\nconst VERSION = '4.6.2'\nconst DATA_KEY = 'bs.navbar'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\nconst BREAKPOINT = 768\n\nconst Default = {\n  sticky: false,\n  trigger: ''\n}\n\nconst DefaultType = {\n  sticky: 'boolean',\n  trigger: 'string'\n}\n\nconst SELECTOR_SUPRA_BAR = '.navbar.supra'\nconst SELECTOR_MEGAMENU_PANEL = '.mega-menu.panel'\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Navbar {\n  constructor(element, config) {\n    this._element = element\n    this._supraBar = element.querySelector(SELECTOR_SUPRA_BAR)\n    this._config = this._getConfig(config)\n    this._initialHeight = $(this._element).outerHeight()\n    this._initialSupraHeight = $(this._supraBar).outerHeight()\n\n    this._addAria()\n\n    if (this._config.sticky) {\n      $(this._element).addClass('fixed-top')\n      $(SELECTOR_MEGAMENU_PANEL).addClass('sticky')\n      $(document.body).css('padding-top', this._initialHeight)\n\n      $(window).on('scroll', () => {\n        const Scroll = $(window).scrollTop()\n        if (Scroll > 0) {\n          $(this._element).addClass('minimized')\n        } else {\n          $(this._element).removeClass('minimized')\n        }\n      })\n    }\n\n    if (this._config.hideSupra) {\n      $(window).on('scroll', () => {\n        if ($(window).innerWidth() < BREAKPOINT) {\n          return\n        }\n\n        const Scroll = $(window).scrollTop()\n\n        if (Scroll > 0) {\n          $(SELECTOR_SUPRA_BAR).hide()\n        } else {\n          $(SELECTOR_SUPRA_BAR).show()\n        }\n      })\n    }\n  }\n\n  // getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get Default() {\n    return Default\n  }\n\n  // private\n\n  _getConfig(config) {\n    config = $.extend({}, Default, config)\n    Util.typeCheckConfig(NAME, config, DefaultType)\n    return config\n  }\n\n  _addAria() {\n    $(this._element).find('.navbar .nav-link[data-toggle]').attr('aria-haspopup', true)\n  }\n\n  // static\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      let data = $(this).data(DATA_KEY)\n      const _config = {\n        ...Default,\n        ...$(this).data(),\n        ...typeof config === 'object' && config ? config : {}\n      }\n\n      if (!data) {\n        data = new Navbar(this, _config)\n        $(this).data(DATA_KEY, data)\n      }\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Navbar._jQueryInterface\n$.fn[NAME].Constructor = Navbar\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Navbar._jQueryInterface\n}\n\nexport default Navbar\n"],"names":["NAME","VERSION","DATA_KEY","JQUERY_NO_CONFLICT","$","fn","BREAKPOINT","Default","sticky","trigger","DefaultType","SELECTOR_SUPRA_BAR","SELECTOR_MEGAMENU_PANEL","Navbar","element","config","_element","_supraBar","querySelector","_config","_getConfig","_initialHeight","outerHeight","_initialSupraHeight","_addAria","addClass","document","body","css","window","on","Scroll","scrollTop","removeClass","hideSupra","innerWidth","hide","show","extend","Util","typeCheckConfig","find","attr","_jQueryInterface","each","data","TypeError","Constructor","noConflict"],"mappings":"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"}